/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    umi-amplicon conda configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Conda-specific configuration for umi-amplicon pipeline
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
*/

// Conda configuration
conda {
    enabled = true
    cacheDir = "./conda_cache"
    createTimeout = '30m'
    cleanup = true
}

// Process-specific conda environments
process {
    // FastQC
    withLabel:fastqc {
        conda = 'environment.yml'
    }
    
    // UMI tools
    withLabel:umi_tools {
        conda = 'environment.yml'
    }
    
    // BWA
    withLabel:bwa {
        conda = 'environment.yml'
    }
    
    // Samtools
    withLabel:samtools {
        conda = 'environment.yml'
    }
    
    // MultiQC
    withLabel:multiqc {
        conda = 'environment.yml'
    }
    
    // Subread
    withLabel:subread {
        conda = 'environment.yml'
    }
    
    // FGBio
    withLabel:fgbio {
        conda = 'environment.yml'
    }
    
    // UMI Collapse
    withLabel:umicollapse {
        conda = 'environment.yml'
    }
    
    // Local modules
    withLabel:local {
        conda = 'environment.yml'
    }
}

// Print conda information
// Note: println statements commented out to avoid config parsing issues
// println "Conda configuration:"
// println "  Enabled: ${conda.enabled}"
// println "  Cache directory: ${conda.cacheDir}"
// println "  Create timeout: ${conda.createTimeout}"
// println "  Cleanup: ${conda.cleanup}"
// println "  Environment file: environment.yml"
